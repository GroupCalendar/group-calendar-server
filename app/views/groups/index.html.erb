<body>
<div>


  <div style="margin-top: 10rem; display: flex; flex-direction:row;">
    <div>
      <h1 class="text-dark is-left">Groups:</h1>
    </div>
    <div class="is-right" style="flex: 1 1 0;">
      <a class="button primary outline" href="/groups/new">Create a group</a>
      <a class="button primary" href="/groups/search">Find a group</a>
    </div>
  </div>


  <% if @groups.any? %>
    <table>
      <thead>
      <tr>
        <th>Group</th>
        <th>Members</th>
        <th>Access level</th>
        <th>Visibility</th>
        <th>Join type</th>
        <th>Action</th>
      </tr>
      </thead>
      <tbody>
      <% @groups.each do |group| %>
        <tr>
          <td>
            <strong>
              <%= link_to group.name, group, class: 'text-dark' %>
            </strong>
          </td>
          <td><%= group.memberships.size %></td>
          <td><%= group.membership(current_user).access_level %></td>
          <td><%= group.visibility_type_title %></td>
          <td><%= group.join_type_title %></td>
          <% if group.can_be_deleted(current_user) %>
            <td><%= button_to "Delete", '/groups', method: :delete, class: 'button error' %></td>
          <% else %>
            <td><%= button_to "Leave", '/groups', method: :delete, class: 'button primary outline' %></td>
          <% end %>
        </tr>
      <% end %>
      </tbody>
    </table>
  <% end %>

</div>
</body>