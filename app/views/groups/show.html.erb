<body>
<%= stylesheet_link_tag "common" %>
<%= stylesheet_link_tag "simple_calendar" %>
<div>
  <h3 class="text-dark" style="margin-top: 10rem;"><%= @group.name %></h3>

  <div style="margin-top: 10rem; display: flex; flex-direction:row;">
    <div>
      <h1 class="text-dark is-left">Events:</h1>
    </div>
    <div class="is-right" style="flex: 1 1 0;">
      <a class="button primary" href="/events/new?group_id=<%= @group.id %>">Create an event</a>
    </div>
  </div>

  <% if @group and @group.events and @group.events.any? %>
    <%= render "events_list/events_list" %>
  <% else %>
    <%= render "no_data/no_data_list" %>
  <% end %>

  <h1 class="text-dark is-left" style="margin-top: 10rem;">Members:</h1>

  <table>
    <thead>
    <tr>
      <th>Name</th>
      <th>Access level</th>
      <% if @group.membership(current_user).access_level == 'owner' %>
        <th class="is-right">Remove</th>
      <% end %>
    </tr>
    </thead>
    <tbody>
    <% @group.memberships.each do |membership| %>
      <tr>
        <td>
          <strong>
            <%= link_to membership.user.name, "/", class: 'text-dark' %>
          </strong>
        </td>
        <td><%= membership.access_level %></td>
        <% if @group.membership(current_user).access_level == 'owner' %>
          <td class="is-right"><%= button_to "Remove", '/memberships', method: :delete, class: 'button primary outline' %></td>
        <% end %>
      </tr>
    <% end %>
    </tbody>
  </table>
</div>
</body>